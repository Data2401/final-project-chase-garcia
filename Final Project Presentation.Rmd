---
title: "What to use in Destiny 2(PVP)"
author: "Chase Garcia"
date: "4/28/2022"
output: slidy_presentation
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)
```

## Intro

Destiny 2, an online game that has both PvE and PvP aspects can seem very overwhelming when trying to find a proper weapon load out. There are multiple aspects behind each weapon whether it be the type of weapon it is, the ammo it uses, or just the pure stats behind the weapon.
 
My goal here is to explore all the weapons in Destiny 2 to find out which ones are most optimized for PvP. It can be hard to find what weapon to use in for PVP and that's why I hope to enlighten some of those concerns.

## The Data!!

The data I gathered came from the below site and contains the pure base stats behind every weapon in Destiny 2. These data sets do not contain any modifiers you get from any perks in the game and are solely from the weapons themselves. These were each pulled from 16 different spreadsheets as they were broken apart by weapo types. 

https://www.destinymassivebreakdowns.com/weapon-stats-spreadsheet-2

```{r}

library(tidyverse)
library(dplyr)
library(ggplot2)
library(plotly)

```
Reading in the data

```{r}

load("all_guns.RData")

gun_data <- bind_rows(Auto_Rifles, Bows, Breech_Grenade_Launchers, Fusion_Rifles, Hand_Cannons, Heavy_Grenade_Launchers, Linear_Fusion_Rifles, Machine_Guns, Pulse_Rifles, Rocket_Launchers, Scout_Rifles, Shotguns, Sidearms, Sniper_Rifles, Submachine_Guns, Swords)

```

## The Basics

Below are the basics to keep in mind when selecting a loadout for PvP in Destiny 2.

- You are able to carry 3 weapons. 1 kinetic, 1 special and 1 heavy weapon. 
- There are 3 ammo types in the game. Primary(infinite), Special(limited) and Heavy ammo(scarce). 
- Your typical load out should consist of 3 weapons that each have a different ammo type.
- You can only have 1 exotic weapon equipped at a time. 
- There are multiple types of weapons that specialize in certain encounters. (Ex scout rifle - primary ammo, medium to long range. Fusion Rifles - special ammo, close to medium range)

## Grouping by ammo

Since one of the major aspects for deciding our weapons of choice is ammo it is only best to see which types of weapons take what ammo. 

```{r}
##What weapons take Primary Ammo
gun_data %>% filter(Ammo == "Primary") %>% count(Type)
#There are 9 Weapon types that use Primary Ammo

##What weapons take Special Ammo
gun_data %>% filter(Ammo == "Special") %>% count(Type)
#There are 7 Weapon Types that use Special Ammo

##What weapons take Heavy Ammo
gun_data %>% filter(Ammo == "Heavy") %>% count(Type)
#There are 8 weapon types that use Heavy Ammo

```

There are 9 Weapon types that use Primary Ammo

There are 7 Weapon Types that use Special Ammo

There are 8 weapon types that use Heavy Ammo


## Finding our Primary

Our primary which is a weapon that has infinite ammo will be our main combat weapon. 

```{r}
Primary <- gun_data %>% filter(Ammo == "Primary")

top_autos <- Primary %>% filter(Body_dmg > 20 & RoF > 350 & Type == "Autorifle")

top_scouts <- Primary %>% filter(Crit_dmg > 50 & Opt_Shots < 3.1 & Type == "Scoutrifle")

top_pulse <- Primary %>% filter(Range > 55 & Stability > 55 & RoF > 350 & Type == "Pulserifle")

top_hand_cannons <- Primary %>% filter(Range > 55 & Stability > 55 & Type == "Handcannon")

top_subs <- Primary %>% filter(RoF > 700 & Handling > 55 & Stability > 55 & Type == "Sub")

top_bows <- Primary %>% filter(Draw_Time < 700 & Impact > 70 & Accuracy > 50 & Type == "Bow")

top_sidearms <- Primary %>% filter(Handling > 50 & Recoil_Direction > 95 & Type == "Sidearm")

top_primary <- bind_rows(top_autos, top_scouts, top_pulse, top_hand_cannons, top_subs, top_bows, top_sidearms)

```

```{r}

ggplot(data = top_primary ) + geom_bar(mapping = aes(x = Type, fill = Energy)) + ggtitle("Types of top Primary Weapons colored by Element")

pscale <- top_primary %>% ggplot(aes(Range, `Optimal_TtK(s)`, color = Type, text = Weapon)) + geom_point()

pscale2 <- top_primary %>% ggplot(aes(Range, Body_TtK, color = Type, text = Weapon)) + geom_point()

ggplotly(pscale)
ggplotly(pscale2)

ggplotly(Primary %>% ggplot(aes(Range, Body_TtK, color = Type, text = Weapon)) + geom_point())

```

---

## Finding our Special
Players spawn with limited special ammo but these weapons have 1 shot capabilities.(Meaning you are able to take out an enemy with one shot) I am going to create a new variable called Special that stores all weapons that use special ammo. 

```{r}
Special <- gun_data %>% filter(Ammo == "Special")

top_fusions <- Special %>% filter(`Charge_Time(ms)`<.8 & Handling > 40 & Impact > 60 & Type == "Fusionrifle")

top_shotguns <- Special %>% filter(Impact > 65 & Handling > 60 & Type == "Shotgun")

top_bgl <- Special %>% filter(Blast_Radius > 54, Velocity > 75 & Reload_Speed > 70 & Type == "bgl")

top_snipers <- Special %>% filter(Handling > 40 & Lowest_Zoom < 55 & Aim_Assist > 60 & Type == "Sniper")

top_linear <- Special %>% filter(`Charge_Time(ms)`> 500 & Handling > 35 & Type == "Linearfusion")

```

After creating a new variable called Special we will be able to search for the "best" special weapon to use. 

### Finding our Heavy

Heavy ammo is vary scarce and at player do not start with any upon spawning in. Heavy ammo is only accessible during the halfway point of matches and only have 2 spawn locations. Even though heavy ammo spawns there is no gaurantee you will grab it since other players will be on the look out for it. 


```{r}

Heavy <- gun_data %>% filter(Ammo == "Heavy")


```




